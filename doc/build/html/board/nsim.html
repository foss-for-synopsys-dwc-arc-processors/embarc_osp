

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Virtual Board based on ARC nSIM &mdash; embARC 2019.06 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/style_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Operating Systems" href="../os/os.html" />
    <link rel="prev" title="ARC IoT Development Kit" href="iotdk.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> embARC
          

          
          </a>

          
            
            
              <div class="version">
                2019.06
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction/introduction.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../arc/arc.html">ARC Processors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../device/device.html">Devices</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="board.html">Boards</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="board.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="board.html#common-board-initialization-process">Common Board Initialization Process</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="board.html#supported-boards">Supported Boards</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="axs.html">ARC Software Development Platform</a></li>
<li class="toctree-l3"><a class="reference internal" href="emsk.html">ARC EM Starter Kit</a></li>
<li class="toctree-l3"><a class="reference internal" href="emsdp.html">ARC EM Software Development Platform</a></li>
<li class="toctree-l3"><a class="reference internal" href="hsdk.html">ARC HS Development Kit</a></li>
<li class="toctree-l3"><a class="reference internal" href="iotdk.html">ARC IoT Development Kit</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Virtual Board based on ARC nSIM</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#how-to-run-in-embarc">How to Run in embARC</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="board.html#board-resource-unified-definitions">Board Resource Unified Definitions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../os/os.html">Operating Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../middleware/middleware.html">Middleware Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lib/library.html">Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../example/example.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/developer_guides.html">Developer Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/faq.html">Usage Guide FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute/contribute.html">Contribute to embARC OSP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog/changelog.html">Change Log</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bsp/bsp.html">embARC BSP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license/license.html">License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">embARC</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="board.html">Boards</a> &raquo;</li>
        
      <li>Virtual Board based on ARC nSIM</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/board/nsim.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="virtual-board-based-on-arc-nsim">
<span id="board-nsim"></span><h1>Virtual Board based on ARC nSIM<a class="headerlink" href="#virtual-board-based-on-arc-nsim" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>The DesignWare® ARC® nSIM Instruction Set Simulator provides an instruction
accurate processor model for the DesignWare ARC processor families. Such
processor models take the software development out of your products’ critical
path by enabling an early start as well as increased efficiency through
enhanced visibility and control. A basic test environment for nSIM is
implemented in embARC, where hostlink IO is used for message input and output.
ARC related functions can be tested using nSIM such as internal timer, cache
module, interrupt and exception module.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Metaware license is required to install nSIM or Metaware IDE for nSIM simulation.</p>
</div>
</div>
<div class="section" id="how-to-run-in-embarc">
<h2>How to Run in embARC<a class="headerlink" href="#how-to-run-in-embarc" title="Permalink to this headline">¶</a></h2>
<p>For example, go to <code class="docutils literal notranslate"><span class="pre">example/baremetal/arc_feature/timer_interrupt</span></code>, then build
this application for <code class="docutils literal notranslate"><span class="pre">nSIM</span> <span class="pre">-</span> <span class="pre">10</span> <span class="pre">-</span> <span class="pre">arcem</span></code> using MetaWare or ARC GNU
toolchain. Here are the steps for running or debugging this application in
nSIM.</p>
<div class="section" id="using-the-metaware-toolchain">
<h3>Using the MetaWare toolchain<a class="headerlink" href="#using-the-metaware-toolchain" title="Permalink to this headline">¶</a></h3>
<p>Here are the steps for MetaWare toolchain, running in nSIM environment.</p>
<ul class="simple">
<li><p>Step 1: Open one command terminal in this application folder.</p></li>
<li><p>Step 2: Build and run this application using this command: <code class="docutils literal notranslate"><span class="pre">gmake</span> <span class="pre">BOARD=nsim</span>
<span class="pre">BD_VER=10</span> <span class="pre">CUR_CORE=arcem</span> <span class="pre">TOOLCHAIN=mw</span> <span class="pre">run</span></code></p></li>
</ul>
<p>The following output will be printed on the console:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">-----------------------------------------------------------</span>
<span class="go"> ____                                _ ____</span>
<span class="go">|  _ \ _____      _____ _ __ ___  __| | __ ) _   _</span>
<span class="go">| |_) / _ \ \ /\ / / _ \ &#39;__/ _ \/ _` |  _ \| | | |</span>
<span class="go">|  __/ (_) \ V  V /  __/ | |  __/ (_| | |_) | |_| |</span>
<span class="go">|_|   \___/ \_/\_/ \___|_|  \___|\__,_|____/ \__, |</span>
<span class="go">                                             |___/</span>
<span class="go">                     _       _    ____   ____</span>
<span class="go">       ___ _ __ ___ | |__   / \  |  _ \ / ___|</span>
<span class="go">      / _ \ &#39;_ ` _ \| &#39;_ \ / _ \ | |_) | |</span>
<span class="go">     |  __/ | | | | | |_) / ___ \|  _ &lt;| |___</span>
<span class="go">      \___|_| |_| |_|_.__/_/   \_\_| \_\\____|</span>
<span class="go">------------------------------------------------------------</span>

<span class="go">embARC Build Time: Apr  3 2018, 14:13:50</span>
<span class="go">Compiler Version: Metaware, 4.2.1 Compatible Clang 4.0.1 (branches/release_40)</span>
<span class="go">ARC timer and interrupt</span>
<span class="go">interrupt number:8, extern interrupts:6, interrupt priorities:16, fiq enabled</span>
<span class="go">timer 0 is present</span>
<span class="go">cnt:2719</span>
<span class="go">timer 1 is present</span>
<span class="go">cnt:106634</span>
<span class="go">timer0 interrupt with the highest priority(fiq if fiq enabled):1</span>
<span class="go">timer0 interrupt with the highest priority(fiq if fiq enabled):2</span>
<span class="go">stop timer0, cnt:20</span>
<span class="go">timer1 interrupt:1</span>
<span class="go">timer1 interrupt:2</span>
<span class="go">stop timer1, cnt:19</span>
<span class="go">enable timer 0 watchdog</span>
<span class="go">---end----</span>
</pre></div>
</div>
</div>
<div class="section" id="using-the-arc-gnu-toolchain">
<h3>Using the ARC GNU toolchain<a class="headerlink" href="#using-the-arc-gnu-toolchain" title="Permalink to this headline">¶</a></h3>
<p>If you want to run or debug embARC application using the ARC GNU toolchain, you also need to install nSIM tool.</p>
<ul class="simple">
<li><p>Make sure that you have installed nSIM tool to your OS, and you can run
<code class="docutils literal notranslate"><span class="pre">nsimdrv</span></code> command in command line.</p></li>
<li><p>For running or debugging embARC application using the ARC GNU toolchain, you
need to run two commands in two command terminals, here take nsim-10-arcem
core configuration for application <code class="docutils literal notranslate"><span class="pre">example/baremetal/arc_feature/timer_interrupt</span></code>.</p>
<ul>
<li><p>Step 1: Open two command terminals in this application folder.</p></li>
<li><p>Step 2: Start nsim debug server using this command:<code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">BOARD=nsim</span>
<span class="pre">BD_VER=10</span> <span class="pre">CUR_CORE=arcem</span> <span class="pre">TOOLCHAIN=gnu</span> <span class="pre">nsim</span></code></p></li>
<li><p>Step 3: Run or debug this application using this command: <code class="docutils literal notranslate"><span class="pre">make</span>
<span class="pre">BOARD=nsim</span> <span class="pre">BD_VER=10</span> <span class="pre">CUR_CORE=arcem</span> <span class="pre">TOOLCHAIN=gnu</span> <span class="pre">run</span></code></p></li>
<li><p>Step 4: Exit the debug process by exiting these two commands.</p></li>
</ul>
</li>
</ul>
<p>The following output will be printed on the console:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">-----------------------------------------------------------</span>
<span class="go"> ____                                _ ____</span>
<span class="go">|  _ \ _____      _____ _ __ ___  __| | __ ) _   _</span>
<span class="go">| |_) / _ \ \ /\ / / _ \ &#39;__/ _ \/ _` |  _ \| | | |</span>
<span class="go">|  __/ (_) \ V  V /  __/ | |  __/ (_| | |_) | |_| |</span>
<span class="go">|_|   \___/ \_/\_/ \___|_|  \___|\__,_|____/ \__, |</span>
<span class="go">                                             |___/</span>
<span class="go">                     _       _    ____   ____</span>
<span class="go">       ___ _ __ ___ | |__   / \  |  _ \ / ___|</span>
<span class="go">      / _ \ &#39;_ ` _ \| &#39;_ \ / _ \ | |_) | |</span>
<span class="go">     |  __/ | | | | | |_) / ___ \|  _ &lt;| |___</span>
<span class="go">      \___|_| |_| |_|_.__/_/   \_\_| \_\\____|</span>
<span class="go">------------------------------------------------------------</span>

<span class="go">embARC Build Time: Apr  3 2018, 14:18:28</span>
<span class="go">Compiler Version: ARC GNU, 7.1.1 20170710</span>
<span class="go">ARC timer and interrupt</span>
<span class="go">interrupt number:8, extern interrupts:6, interrupt priorities:16, fiq enabled</span>
<span class="go">timer 0 is present</span>
<span class="go">cnt:13357</span>
<span class="go">timer 1 is present</span>
<span class="go">cnt:195664</span>
<span class="go">timer0 interrupt with the highest priority(fiq if fiq enabled):1</span>
<span class="go">timer0 interrupt with the highest priority(fiq if fiq enabled):2</span>
<span class="go">stop timer0, cnt:10</span>
<span class="go">timer1 interrupt:1</span>
<span class="go">timer1 interrupt:2</span>
<span class="go">stop timer1, cnt:9</span>
<span class="go">enable timer 0 watchdog</span>
<span class="go">---end----</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For the ARC GNU toolchain, you need to run two commands to debug or run application in nSIM.
Most middleware packages in embARC are not supported with nSIM since there is no external peripheral for nSIM.</p>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../os/os.html" class="btn btn-neutral float-right" title="Operating Systems" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="iotdk.html" class="btn btn-neutral float-left" title="ARC IoT Development Kit" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Synopsys

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>