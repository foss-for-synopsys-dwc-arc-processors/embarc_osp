

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>TRNG HAL &mdash; embARC OSP Project Documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/style_overrides.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="PWM_TIMER HAL" href="pwm_timer.html" />
    <link rel="prev" title="WNIC HAL" href="wnic.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> embARC
          

          
          </a>

          
            
            
              <div class="version">
                2019.06
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction/introduction.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../arc/arc.html">ARC Processors</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="device.html">Devices</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="device.html#overview">Overview</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="device.html#id1">Device HAL</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="gpio.html">GPIO HAL</a></li>
<li class="toctree-l3"><a class="reference internal" href="i2c.html">I2C HAL</a></li>
<li class="toctree-l3"><a class="reference internal" href="i2s.html">I2S HAL</a></li>
<li class="toctree-l3"><a class="reference internal" href="spi.html">SPI HAL</a></li>
<li class="toctree-l3"><a class="reference internal" href="uart.html">UART HAL</a></li>
<li class="toctree-l3"><a class="reference internal" href="sdio.html">SDIO HAL</a></li>
<li class="toctree-l3"><a class="reference internal" href="wnic.html">WNIC HAL</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">TRNG HAL</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#definitions">Definitions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="pwm_timer.html">PWM_TIMER HAL</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="device.html#ip-drivers">IP Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="device.html#driver-instantiation">Driver Instantiation</a></li>
<li class="toctree-l2"><a class="reference internal" href="device.html#external-peripheral-drivers">External Peripheral Drivers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../board/board.html">Boards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../os/os.html">Operating Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../middleware/middleware.html">Middleware Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lib/library.html">Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../example/example.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/developer_guides.html">Developer Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq/faq.html">Usage Guide FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute/contribute.html">Contribute to embARC OSP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog/changelog.html">Change Log</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bsp/bsp.html">embARC BSP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license/license.html">License</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">embARC</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="device.html">Devices</a> &raquo;</li>
        
      <li>TRNG HAL</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="trng-hal">
<span id="device-hal-trng"></span><h1>TRNG HAL<a class="headerlink" href="#trng-hal" title="Permalink to this headline">¶</a></h1>
<p>The TRNG HAL definitions is in <code class="docutils literal notranslate"><span class="pre">dev_trng.h</span></code>, it provide interfaces for trng
driver to implement. Here is a diagram for the trng interface.</p>
<img alt="TRNG HAL" src="../_images/dev_trng_hal.jpg" />
<div class="section" id="definitions">
<h2>Definitions<a class="headerlink" href="#definitions" title="Permalink to this headline">¶</a></h2>
<dl class="group">
<dt>
<span class="target" id="group__DEVICE__HAL__TRNG__DEVSTRUCT"></span><em><span class="pre">group</span></em> <code class="sig-name descname"><span class="pre">DEVICE_HAL_TRNG_DEVSTRUCT</span></code></dt>
<dd><p>Contains definitions of trng device interface structure. </p>
<p>This structure will be used in user implemented code, which was called Device Driver Implement Layer for trng to use in implementation code. Application developer should use the TRNG API provided here to access to TRNG devices. BSP developer should follow the API definition to implement TRNG device drivers. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-defines">Defines</p>
<dl class="cpp macro">
<dt id="c.DEV_TRNG_INFO_SET_EXTRA_OBJECT">
<span class="target" id="group__DEVICE__HAL__TRNG__DEVSTRUCT_1gab09960371ab78fc25db2c0c3271f2dfb"></span><code class="sig-name descname"><span class="pre">DEV_TRNG_INFO_SET_EXTRA_OBJECT</span></code><span class="sig-paren">(</span><em><span class="pre">trng_info_ptr</span></em>, <em><span class="pre">extra_info</span></em><span class="sig-paren">)</span><a class="headerlink" href="#c.DEV_TRNG_INFO_SET_EXTRA_OBJECT" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set extra information pointer of trng info </p>
</dd></dl>

<dl class="cpp macro">
<dt id="c.DEV_TRNG_INFO_GET_EXTRA_OBJECT">
<span class="target" id="group__DEVICE__HAL__TRNG__DEVSTRUCT_1ga3e1b027e9e19df14f940828cd2eacac3"></span><code class="sig-name descname"><span class="pre">DEV_TRNG_INFO_GET_EXTRA_OBJECT</span></code><span class="sig-paren">(</span><em><span class="pre">trng_info_ptr</span></em><span class="sig-paren">)</span><a class="headerlink" href="#c.DEV_TRNG_INFO_GET_EXTRA_OBJECT" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get extra information pointer of trng info </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-typedefs">Typedefs</p>
<dl class="cpp type">
<dt id="_CPPv413DEV_TRNG_INFO">
<span id="_CPPv313DEV_TRNG_INFO"></span><span id="_CPPv213DEV_TRNG_INFO"></span><span id="DEV_TRNG_INFO"></span><span class="target" id="group__DEVICE__HAL__TRNG__DEVSTRUCT_1ga75ad1440226467924e5d35fd61ecfffb"></span><em class="property"><span class="pre">typedef</span> </em><em class="property"><span class="pre">struct</span></em> <a class="reference internal" href="#_CPPv413dev_trng_info" title="dev_trng_info"><span class="pre">dev_trng_info</span></a> <code class="sig-name descname"><span class="pre">DEV_TRNG_INFO</span></code><a class="headerlink" href="#_CPPv413DEV_TRNG_INFO" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>TRNG information struct definition. </p>
<p>informations about trng open count, working status, baudrate, trng registers and ctrl structure, trng dps format </p>
</dd></dl>

<dl class="cpp type">
<dt id="_CPPv417DEV_TRNG_INFO_PTR">
<span id="_CPPv317DEV_TRNG_INFO_PTR"></span><span id="_CPPv217DEV_TRNG_INFO_PTR"></span><span id="DEV_TRNG_INFO_PTR"></span><span class="target" id="group__DEVICE__HAL__TRNG__DEVSTRUCT_1ga9de9b707ec0dd1b241bf589b2873690a"></span><em class="property"><span class="pre">typedef</span> </em><em class="property"><span class="pre">struct</span></em> <a class="reference internal" href="#_CPPv413dev_trng_info" title="dev_trng_info"><span class="pre">dev_trng_info</span></a> <span class="pre">*</span><code class="sig-name descname"><span class="pre">DEV_TRNG_INFO_PTR</span></code><a class="headerlink" href="#_CPPv417DEV_TRNG_INFO_PTR" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv48DEV_TRNG">
<span id="_CPPv38DEV_TRNG"></span><span id="_CPPv28DEV_TRNG"></span><span id="DEV_TRNG"></span><span class="target" id="group__DEVICE__HAL__TRNG__DEVSTRUCT_1ga4e4b48bd4080d41360dd70ecd589a9fa"></span><em class="property"><span class="pre">typedef</span> </em><em class="property"><span class="pre">struct</span></em> <a class="reference internal" href="#_CPPv48dev_trng" title="dev_trng"><span class="pre">dev_trng</span></a> <code class="sig-name descname"><span class="pre">DEV_TRNG</span></code><a class="headerlink" href="#_CPPv48DEV_TRNG" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp type">
<dt id="_CPPv412DEV_TRNG_PTR">
<span id="_CPPv312DEV_TRNG_PTR"></span><span id="_CPPv212DEV_TRNG_PTR"></span><span id="DEV_TRNG_PTR"></span><span class="target" id="group__DEVICE__HAL__TRNG__DEVSTRUCT_1ga94b25229b371ebf60ea779a24ba678d6"></span><em class="property"><span class="pre">typedef</span> </em><em class="property"><span class="pre">struct</span></em> <a class="reference internal" href="#_CPPv48dev_trng" title="dev_trng"><span class="pre">dev_trng</span></a> <span class="pre">*</span><code class="sig-name descname"><span class="pre">DEV_TRNG_PTR</span></code><a class="headerlink" href="#_CPPv412DEV_TRNG_PTR" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-variables">Variables</p>
<dl class="cpp var">
<dt id="_CPPv49trng_open">
<span id="_CPPv39trng_open"></span><span id="_CPPv29trng_open"></span><span class="target" id="group__DEVICE__HAL__TRNG__DEVSTRUCT_1ga04c9d8c088c7010eb15c98c903d84a46"></span><span class="pre">int32_t</span> <span class="pre">(</span><span class="pre">*</span><code class="sig-name descname"><span class="pre">trng_open</span></code><span class="pre">)</span><span class="sig-paren">(</span><span class="pre">void</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv49trng_open" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Open trng device</p>
<p>open trng device </p>
<dl class="field-list simple">
<dt class="field-odd">Returns E_OK</dt>
<dd class="field-odd"><p>Open successfully without any issues </p>
</dd>
<dt class="field-even">Returns E_OPNED</dt>
<dd class="field-even"><p>If device was opened before with different parameters, then just increase the opn_cnt and return E_OPNED </p>
</dd>
<dt class="field-odd">Returns E_OBJ</dt>
<dd class="field-odd"><p>Device object is not valid </p>
</dd>
<dt class="field-even">Returns E_PAR</dt>
<dd class="field-even"><p>Parameter is not valid </p>
</dd>
<dt class="field-odd">Returns E_NOSPT</dt>
<dd class="field-odd"><p>Open settings are not supported </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv410trng_close">
<span id="_CPPv310trng_close"></span><span id="_CPPv210trng_close"></span><span class="target" id="group__DEVICE__HAL__TRNG__DEVSTRUCT_1gac0bedc6bb3255a9676ddb1acfdaec88f"></span><span class="pre">int32_t</span> <span class="pre">(</span><span class="pre">*</span><code class="sig-name descname"><span class="pre">trng_close</span></code><span class="pre">)</span><span class="sig-paren">(</span><span class="pre">void</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv410trng_close" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Close trng device</p>
<p>close an trng device, just decrease the opn_cnt, if opn_cnt equals 0, then close the device </p>
<dl class="field-list simple">
<dt class="field-odd">Returns E_OK</dt>
<dd class="field-odd"><p>Close successfully without any issues(including scenario that device is already closed) </p>
</dd>
<dt class="field-even">Returns E_OPNED</dt>
<dd class="field-even"><p>Device is still opened, the device opn_cnt decreased by 1 </p>
</dd>
<dt class="field-odd">Returns E_OBJ</dt>
<dd class="field-odd"><p>Device object is not valid </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv412trng_control">
<span id="_CPPv312trng_control"></span><span id="_CPPv212trng_control"></span><span class="target" id="group__DEVICE__HAL__TRNG__DEVSTRUCT_1gaee9b6fb38769538998861284a95d38f1"></span><span class="pre">int32_t</span> <span class="pre">(</span><span class="pre">*</span><code class="sig-name descname"><span class="pre">trng_control</span></code><span class="pre">)</span><span class="sig-paren">(</span><span class="pre">uint32_t</span> <span class="pre">ctrl_cmd</span>, <span class="pre">void</span> <span class="pre">*</span><span class="pre">param</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv412trng_control" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Control trng device</p>
<p>control an trng device [channel number: ch] by ctrl_cmd, with passed param. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ch</strong> – <strong>[in]</strong> channel number of trng to control, must &gt;= 0 </p></li>
<li><p><strong>ctrl_cmd</strong> – <strong>[in]</strong> control command, to change or get some thing related to trng </p></li>
<li><p><strong>param</strong> – <strong>[inout]</strong> parameters that maybe argument of the command, or return values of the command </p></li>
</ul>
</dd>
<dt class="field-even">Returns E_OK</dt>
<dd class="field-even"><p>Control device successfully </p>
</dd>
<dt class="field-odd">Returns E_CLSED</dt>
<dd class="field-odd"><p>Device is not opened </p>
</dd>
<dt class="field-even">Returns E_OBJ</dt>
<dd class="field-even"><p>Device object is not valid or not exists </p>
</dd>
<dt class="field-odd">Returns E_PAR</dt>
<dd class="field-odd"><p>Parameter is not valid for current control command </p>
</dd>
<dt class="field-even">Returns E_SYS</dt>
<dd class="field-even"><p>Control device failed, due to hardware issues, such as device is disabled </p>
</dd>
<dt class="field-odd">Returns E_CTX</dt>
<dd class="field-odd"><p>Control device failed, due to different reasons like in transfer state </p>
</dd>
<dt class="field-even">Returns E_NOSPT</dt>
<dd class="field-even"><p>Control command is not supported or not valid </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp var">
<dt id="_CPPv49trng_read">
<span id="_CPPv39trng_read"></span><span id="_CPPv29trng_read"></span><span class="target" id="group__DEVICE__HAL__TRNG__DEVSTRUCT_1gad41050fa27c5915ae7ea6540f3e9aea2"></span><span class="pre">int32_t</span> <span class="pre">(</span><span class="pre">*</span><code class="sig-name descname"><span class="pre">trng_read</span></code><span class="pre">)</span><span class="sig-paren">(</span><span class="pre">uint32_t</span> <span class="pre">*</span><span class="pre">data_buf</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv49trng_read" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Read data from trng device(blocked)</p>
<p>read the configuration of trng. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data_buf</strong> – <strong>[out]</strong> pointer to data buffer read from trng, must not be NULL </p>
</dd>
<dt class="field-even">Returns E_OK</dt>
<dd class="field-even"><p>Read device successfully </p>
</dd>
<dt class="field-odd">Returns E_OBJ</dt>
<dd class="field-odd"><p>Device object is not valid or not exists </p>
</dd>
<dt class="field-even">Returns E_PAR</dt>
<dd class="field-even"><p>Parameter is not valid </p>
</dd>
<dt class="field-odd">Returns E_SYS</dt>
<dd class="field-odd"><p>Can’t receive data from hardware due to hardware issues, such as device is disabled </p>
</dd>
</dl>
</dd></dl>

</div>
<dl class="cpp struct">
<dt id="_CPPv413dev_trng_info">
<span id="_CPPv313dev_trng_info"></span><span id="_CPPv213dev_trng_info"></span><span id="dev_trng_info"></span><span class="target" id="structdev__trng__info"></span><em class="property"><span class="pre">struct</span> </em><code class="sig-name descname"><span class="pre">dev_trng_info</span></code><a class="headerlink" href="#_CPPv413dev_trng_info" title="Permalink to this definition">¶</a><br /></dt>
<dd><em>#include &lt;dev_trng.h&gt;</em><p>TRNG information struct definition. </p>
<p>informations about trng open count, working status, baudrate, trng registers and ctrl structure, trng dps format </p>
</dd></dl>

<dl class="cpp struct">
<dt id="_CPPv48dev_trng">
<span id="_CPPv38dev_trng"></span><span id="_CPPv28dev_trng"></span><span id="dev_trng"></span><span class="target" id="structdev__trng"></span><em class="property"><span class="pre">struct</span> </em><code class="sig-name descname"><span class="pre">dev_trng</span></code><a class="headerlink" href="#_CPPv48dev_trng" title="Permalink to this definition">¶</a><br /></dt>
<dd><em>#include &lt;dev_trng.h&gt;</em></dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2019, Synopsys.
      <span class="lastupdated">
        Last updated on Sep 14, 2021.
      </span>

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>