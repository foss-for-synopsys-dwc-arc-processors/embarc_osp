

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>ESP8266 WiFi Module &mdash; embARC 2019.06 documentation</title>
  

  
  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/style_overrides.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="FreeRTOS IoT CoAP Server" href="../iot/coap/coap_server/README.html" />
    <link rel="prev" title="OS Based Examples" href="../os_based_example.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../index.html" class="icon icon-home"> embARC
          

          
          </a>

          
            
            
              <div class="version">
                2019.06
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../introduction/introduction.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../getting_started/getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../arc/arc.html">ARC Processors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../device/device.html">Devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../board/board.html">Boards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../os/os.html">Operating Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../middleware/middleware.html">Middleware Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../lib/library.html">Libraries</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../example.html">Examples</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../../example.html#overview">Overview</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../../example.html">Examples and Demos</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../../baremetal/baremetal_based_example.html">Baremetal examples</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../os_based_example.html">OS Based Examples</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../example.html#application-note">Application Note</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../developer/developer_guides.html">Developer Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../faq/faq.html">Usage Guide FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../contribute/contribute.html">Contribute to embARC OSP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../changelog/changelog.html">Change Log</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../bsp/bsp.html">embARC BSP</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../license/license.html">License</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">embARC</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../../example.html">Examples</a> &raquo;</li>
        
          <li><a href="../../example.html">Examples and Demos</a> &raquo;</li>
        
          <li><a href="../os_based_example.html">OS Based Examples</a> &raquo;</li>
        
      <li>ESP8266 WiFi Module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../_sources/example/example/freertos/esp8266_wifi/README.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="esp8266-wifi-module">
<span id="example-esp8266-wifi"></span><h1>ESP8266 WiFi Module<a class="headerlink" href="#esp8266-wifi-module" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>This example is designed to show basic usage of ESP01/ESP01S esp8266 WiFi Module on embARC board.</p>
</div></blockquote>
<div class="section" id="detailed-description">
<h3>Detailed Description<a class="headerlink" href="#detailed-description" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li><dl class="simple">
<dt>Extra Required Peripherals</dt><dd><p>ESP01/ESP01S WiFi Module</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Design Concept</dt><dd><p>Without downloading users’ image, ESP01/ESP01S can be controlled using AT commands.
This example is designed to show how to use AT commands to control the Wi-Fi module and exchange data.
Besides, we use AT command to establish a TCP server and provide simple HTTP service just like our another example <a class="reference internal" href="../net/httpserver/README.html#example-net-httpserver"><span class="std std-ref">FreeRTOS Net HTTP Server</span></a></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Usage Manual</dt><dd><ul>
<li><p>Connect ESP01/ESP01S module to your board, see <a class="reference internal" href="../../../../getting_started/peripheral_preparation.html#peripheral-preparation"><span class="std std-ref">Peripheral Preparation</span></a>.</p></li>
<li><p>Set up an AP, the default setting of this example is to connect a WIFI with SSID: <cite>embARC</cite>, pwd: <cite>qazwsxedc</cite>.</p></li>
<li><p>Build, download, run the example and get log from COM port console.</p></li>
<li><p>When you see a <cite>while</cite> is shown in log, meaning that the server is setup and waiting for input. Then open your web browser (Chrome, Firefox) and visit the ip address shown in the log. You will get a web page right away.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
</div>
<div class="section" id="building-and-running">
<h2>Building and Running<a class="headerlink" href="#building-and-running" title="Permalink to this headline">¶</a></h2>
<p>This example outputs to the console. It is supported by all platform. The commands to run this example are as follows:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nb">cd</span> &lt;embarc_root&gt;/example/freertos/esp8266_wifi
<span class="gp">$</span> make <span class="nv">BOARD</span><span class="o">=</span>emsk <span class="nv">BD_VER</span><span class="o">=</span><span class="m">22</span> <span class="nv">CUR_CORE</span><span class="o">=</span>arcem7d <span class="nv">TOOLCHAIN</span><span class="o">=</span>gnu run
</pre></div>
</div>
<div class="section" id="sample-output">
<h3>Sample Output<a class="headerlink" href="#sample-output" title="Permalink to this headline">¶</a></h3>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">-----------------------------------------------------------</span>
<span class="go"> ____                                _ ____</span>
<span class="go">|  _ \ _____      _____ _ __ ___  __| | __ ) _   _</span>
<span class="go">| |_) / _ \ \ /\ / / _ \ &#39;__/ _ \/ _` |  _ \| | | |</span>
<span class="go">|  __/ (_) \ V  V /  __/ | |  __/ (_| | |_) | |_| |</span>
<span class="go">|_|   \___/ \_/\_/ \___|_|  \___|\__,_|____/ \__, |</span>
<span class="go">                                             |___/</span>
<span class="go">                     _       _    ____   ____</span>
<span class="go">       ___ _ __ ___ | |__   / \  |  _ \ / ___|</span>
<span class="go">      / _ \ &#39;_ ` _ \| &#39;_ \ / _ \ | |_) | |</span>
<span class="go">     |  __/ | | | | | |_) / ___ \|  _ &lt;| |___</span>
<span class="go">      \___|_| |_| |_|_.__/_/   \_\_| \_\\____|</span>
<span class="go">------------------------------------------------------------</span>

<span class="go">embARC Build Time: Oct 17 2018, 15:25:42</span>
<span class="go">Compiler Version: Metaware, 4.2.1 Compatible Clang 4.0.1 (branches/release_40)</span>
<span class="go">=========================== Init ============================</span>
<span class="go">[at_parser_init]56: obj-&gt;psio 0x800062c0 -&gt; 0x80000f28</span>
<span class="go">[at_send_cmd]83: command is NULL, send AT test command</span>
<span class="go">[at_send_cmd]117: at_out: &quot;AT</span>
<span class="go">&quot; (4)</span>
<span class="go">[at_get_reply]137: &quot;AT</span>

<span class="go">OK&quot; (9)</span>
<span class="go">============================ Set Mode ============================</span>
<span class="go">[at_send_cmd]117: at_out: &quot;AT+CWMODE_CUR?</span>
<span class="go">&quot; (16)</span>
<span class="go">[at_get_reply]137: &quot;</span>
<span class="go">AT+CWMODE_CUR?</span>
<span class="go">+CWMODE_CUR:1</span>

<span class="go">OK&quot; (38)</span>
<span class="go">CWMODE_CUR = 1</span>
<span class="go">[at_send_cmd]117: at_out: &quot;AT+CWMODE_CUR=3</span>
<span class="go">&quot; (17)</span>
<span class="go">[at_get_reply]137: &quot;</span>
<span class="go">AT+CWMODE_CUR=3</span>

<span class="go">OK&quot; (24)</span>
<span class="go">============================ Connect WiFi ============================</span>
<span class="go">[at_send_cmd]117: at_out: &quot;AT+CWLAP</span>
<span class="go">&quot; (10)</span>
<span class="go">[at_get_reply]137: &quot;</span>
<span class="go">AT+CWLAP</span>
<span class="go">+CWLAP:(3,&quot;embARC&quot;,-61,&quot;6a:ec:c5:cc:2f:3b&quot;,1,32767,0)</span>
<span class="go">+CWLAP:(5,&quot;Synopsys&quot;,-91,&quot;6c:f3:7f:a5:8a:e3&quot;,1,-49,0)</span>
<span class="go">+CWLAP:(0,&quot;synopsys-guest&quot;,-81,&quot;6c:f3:7f:a5:38:21&quot;,1,-47,0)</span>
<span class="go">+CWLAP:(5,&quot;Synopsys&quot;,-81,&quot;6c:f3:7f:a5:38:23&quot;,1,-47,0)</span>
<span class="go">+CWLAP:(3,&quot;ClickShare-1871789077&quot;,-87,&quot;28:24:ff:bf:2b:06&quot;,1,32767,0)</span>
<span class="go">+CWLAP:(0,&quot;synopsys-guest&quot;,-91,&quot;6c:f3:7f:a5:8a:e1&quot;,1,-47,0)</span>
<span class="go">+CWLAP:(5,&quot;Synopsys&quot;,-86,&quot;04:bd:88:5a:7c:42&quot;,6,-51,0)</span>
<span class="go">+CWLAP:(0,&quot;synopsys-guest&quot;,-86,&quot;04:bd:88:5a:7c:43&quot;,6,-51,0)</span>
<span class="go">+CWLAP:(0,&quot;synopsys-guest&quot;,-73,&quot;6c:f3:7f:a2:90:61&quot;,11,-54,0)</span>
<span class="go">+CWLAP:(5,&quot;Synopsys&quot;,-71,&quot;6c:f3:7f:a2:90:63&quot;,11,-56,0)</span>
<span class="go">+CWLAP:(3,&quot;XKORAT - Mi&quot;,-71,&quot;4c:49:e3:ba:95:80&quot;,11,-29,0)</span>

<span class="go">OK&quot; (731)</span>
<span class="go">Searching for WIFI &quot;embARC&quot; ......</span>
<span class="go">WIFI &quot;embARC&quot; found! Try to connect</span>
<span class="go">[at_send_cmd]117: at_out: &quot;AT+CWMODE_CUR=1</span>
<span class="go">&quot; (17)</span>
<span class="go">[at_get_reply]137: &quot;</span>
<span class="go">AT+CWMODE_CUR=1</span>

<span class="go">OK&quot; (24)</span>
<span class="go">[at_send_cmd]117: at_out: &quot;AT+CWJAP_CUR=&quot;embARC&quot;,&quot;qazwsxedc&quot;</span>
<span class="go">&quot; (35)</span>
<span class="go">[at_get_reply]137: &quot;</span>
<span class="go">AT+CWJAP_CUR=&quot;embARC&quot;,&quot;qazwsxedc&quot;</span>
<span class="go">WIFI DISCONNECT</span>
<span class="go">WIFI CONNECTED</span>
<span class="go">WIFI GOT IP</span>

<span class="go">OK&quot; (88)</span>
<span class="go">WIFI &quot;embARC&quot; connect succeed</span>
<span class="go">============================ Connect Server ============================</span>
<span class="go">[at_send_cmd]117: at_out: &quot;AT+CIPMUX=1</span>
<span class="go">&quot; (13)</span>
<span class="go">[at_get_reply]137: &quot;</span>
<span class="go">AT+CIPMUX=1</span>

<span class="go">OK&quot; (20)</span>
<span class="go">[at_send_cmd]117: at_out: &quot;AT+CIPSERVER=1,80</span>
<span class="go">&quot; (19)</span>
<span class="go">[at_get_reply]137: &quot;</span>
<span class="go">AT+CIPSERVER=1,80</span>
<span class="go">no change</span>

<span class="go">OK&quot; (37)</span>
<span class="go">============================ Show IP ============================</span>
<span class="go">[at_send_cmd]117: at_out: &quot;AT+CIFSR</span>
<span class="go">&quot; (10)</span>
<span class="go">[at_get_reply]137: &quot;</span>
<span class="go">AT+CIFSR</span>
<span class="go">+CIFSR:STAIP,&quot;192.168.137.96&quot;</span>
<span class="go">+CIFSR:STAMAC,&quot;5c:cf:7f:0c:27:d6&quot;</span>

<span class="go">OK&quot; (83)</span>
<span class="go">============================ while ============================</span>
<span class="go">============================ send ============================</span>

<span class="go">The message is:</span>
<span class="go">0,CONNECT</span>
<span class="go">1,CONNECT</span>

<span class="go">+IPD,0,383:GET / HTTP/1.1</span>
<span class="go">Host: 192.168.137.96</span>
<span class="go">Connection: keep-alive</span>
<span class="go">Upgrade-Insecure-Requests: 1</span>
<span class="go">User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36</span>
<span class="go">Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8</span>
<span class="go">Accept-Encoding: gzip, deflate</span>
<span class="go">Accept-Language: en-US,en;q=0.9</span>


<span class="go">Send Start</span>
<span class="go">[at_send_cmd]117: at_out: &quot;AT+CIPSEND=0,44</span>
<span class="go">&quot; (17)</span>
<span class="go">[at_get_reply]137: &quot;AT+CIPSEND=0,44</span>

<span class="go">OK&quot; (22)</span>
<span class="go">[at_get_reply]137: &quot;</span>
<span class="gp">&gt;</span>
<span class="go">Recv 44 bytes</span>

<span class="go">SEND OK&quot; (30)</span>
<span class="go">[at_send_cmd]117: at_out: &quot;AT+CIPSEND=0,93</span>
<span class="go">&quot; (17)</span>
<span class="go">[at_get_reply]137: &quot;</span>
<span class="go">AT+CIPSEND=0,93</span>

<span class="go">OK&quot; (24)</span>
<span class="go">[at_get_reply]137: &quot;</span>
<span class="gp">&gt;</span>
<span class="go">Recv 93 bytes</span>
<span class="go">&quot; (21)</span>
<span class="go">[at_send_cmd]117: at_out: &quot;AT+CIPSEND=0,93</span>
<span class="go">&quot; (17)</span>
<span class="go">[at_get_reply]137: &quot;AT+CIPSEND=0,93</span>
<span class="go">busy s...</span>
<span class="go">&quot; (29)</span>
<span class="go">[at_send_cmd]117: at_out: &quot;AT+CIPCLOSE=0</span>
<span class="go">&quot; (15)</span>
<span class="go">[at_get_reply]137: &quot;AT+CIPCLOSE=0</span>
<span class="go">busy s...</span>

<span class="go">SEND OK&quot; (36)</span>
<span class="go">Send Finish</span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../iot/coap/coap_server/README.html" class="btn btn-neutral float-right" title="FreeRTOS IoT CoAP Server" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../os_based_example.html" class="btn btn-neutral float-left" title="OS Based Examples" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2019, Synopsys.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>