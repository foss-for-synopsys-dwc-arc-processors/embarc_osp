<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>embARC: embARC OpenThread NCP example on MRF24J40</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 50px;">
  <td id="projectlogo"><img alt="Logo" src="embARC_Logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectnumber">2017.12</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___e_m_b_a_r_c___a_p_p___b_a_r_e_m_e_t_a_l___o_p_e_n_t_h_r_e_a_d___n_c_p.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">embARC OpenThread NCP example on MRF24J40<div class="ingroups"><a class="el" href="group___e_m_b_a_r_c___a_p_p_s.html">embARC Applications</a> &raquo; <a class="el" href="group___e_m_b_a_r_c___a_p_p_s___t_o_t_a_l.html">All embARC Applications</a><a class="el" href="group___e_m_b_a_r_c___a_p_p_s.html">embARC Applications</a> &raquo; <a class="el" href="group___e_m_b_a_r_c___a_p_p_s___o_s.html">embARC Applications for Different Operating Systems</a> &raquo;  &#124; <a class="el" href="group___e_m_b_a_r_c___a_p_p_s___b_a_r_e_m_e_t_a_l.html">embARC Baremetal Applications</a><a class="el" href="group___e_m_b_a_r_c___a_p_p_s.html">embARC Applications</a> &raquo; <a class="el" href="group___e_m_b_a_r_c___a_p_p_s___m_i_d.html">embARC Applications for Different Middlewares</a> &raquo;  &#124; <a class="el" href="group___e_m_b_a_r_c___a_p_p_s___m_i_d___o_p_e_n_t_h_r_e_a_d.html">embARC OpenThread Applications</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>OpenThread Network Co-Processor (NCP) on MRF24J40.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:example_2baremetal_2openthread_2ncp_2main_8c"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="example_2baremetal_2openthread_2ncp_2main_8c.html">example/baremetal/openthread/ncp/main.c</a></td></tr>
<tr class="memdesc:example_2baremetal_2openthread_2ncp_2main_8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">example of how to use OpenThread Network Co-Processor (NCP) This example demonstrates a minimal OpenThread application to show the OpenThread NCP joins Thread network and communicates with wpantund on Unix-like operating systems. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga5069fffcef40dac99c6212278d024d51"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga5069fffcef40dac99c6212278d024d51"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>NUM_INPUT_MANUAL</b>&#160;&#160;&#160;(-1)</td></tr>
<tr class="separator:ga5069fffcef40dac99c6212278d024d51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga08cfa0ce117e5a1bf61aef00385cf803"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga08cfa0ce117e5a1bf61aef00385cf803"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>NUM_NCP</b>&#160;&#160;&#160;(3)</td></tr>
<tr class="separator:ga08cfa0ce117e5a1bf61aef00385cf803"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga504d39f61afb73805cb9452695fdbdb0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga504d39f61afb73805cb9452695fdbdb0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>otTaskletsSignalPending</b> (otInstance *aInstance)</td></tr>
<tr class="separator:ga504d39f61afb73805cb9452695fdbdb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga840291bc02cba5474a4cb46a9b9566fe"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga840291bc02cba5474a4cb46a9b9566fe"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>main</b> (void)</td></tr>
<tr class="separator:ga840291bc02cba5474a4cb46a9b9566fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>OpenThread Network Co-Processor (NCP) on MRF24J40. </p>
<h3>Extra Required Tools</h3>
<h3>Extra Required Peripherals</h3>
<ul>
<li>2 x EMSK</li>
<li>2 x Digilent PMOD RF2 (MRF24J40)</li>
<li>2 x SD card</li>
</ul>
<h3>Design Concept</h3>
<p>This example is an OpenThread Network Co-Processor (NCP) application on PMOD RF2 (MRF24J40). This example can serve as a low-power wireless Network Co-Processor (NCP) to join Thread network and communicate with Userspace WPAN Network Daemon (wpantund) on Unix-like operating systems. This example can be used along with OpenThread wpantund to provide Internet connectivity to the Thread network. For more information about NCP and wpantund, see README.md for reference. The NCP status can not be shown on the terminal via UART, it might show messy code.</p>
<h3>Usage Manual</h3>
<ul>
<li>See <a class="el" href="page_example_usage.html#EMBARC_BOARD_CONNECTION">EMSK</a> to connect PMOD RF2 (MRF24J40).</li>
<li>How to use this example<ul>
<li>Program the secondary bootloader application into onboard SPI flash of EMSKs.</li>
<li>Generate boot.bin of the Openthread NCP example using "make bin".</li>
<li>Run an Openthread CLI example first with boot.bin from SD card, see <code>cli\README.md</code> for more information.<ul>
<li>Insert SD Card back to one EMSK. It will run the CLI example. Press the reset button to reboot it. Wait for loading boot.bin from SD card.</li>
<li>Enter “1” and press Enter button in the Tera Term. Enter the number here to generate pseudo random number for OpenThread.</li>
<li>Enter the following commands in the two terminal windows, "panid 0x1234", "ifconfig up", "thread start", to start Thread process.</li>
<li>Wait 20 seconds for completing Thread configuration. Enter “state” to see the state of the node, it will be the leader.</li>
</ul>
</li>
<li>Run Openthread NCP example with boot.bin from SD card. Make sure Bit 4 of the onboard DIP switch is ON to enable the secondary bootloader.<ul>
<li>Insert the other SD card to the other EMSK. It will run the NCP example. Press the reset button to reboot it. Wait for loading boot.bin from SD card.</li>
<li>Enter <b>2</b> and press Enter button in the NCP's Tera Term.</li>
<li>After entering <b>2</b> in the NCP's Tera Term, the NCP will start up automatically. It will show you some messy code in the last line, just ignore it.</li>
<li>Install and Run OpenThread wpantund, and join the NCP to the Thread network created by CLI. See README.md for more information.</li>
<li>Ping to each other between Linux host and CLI Node.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3>Extra Comments</h3>
<ul>
<li>Use AC adapter to ensure a steady power supply.</li>
<li>The self-boot mode preparation is included in the above steps.</li>
<li>“make run” is not supported because EMSK boards are both v2.x and it can lead to conflict. See <a class="el" href="page_example_usage.html#sect_example_usage_HowToDebugMultiBoards">how to debug multiple boards in embARC</a> for more information.</li>
<li>Enter number to generate the pseudo-random number for OpenThread. Recommend enter number in order, such as “1”, “2” and “3”. Using same number in different nodes may lead error.</li>
<li>Make sure the compiler configuration (TOOLCHAIN, BD_VER, CUR_CORE) of the secondary bootloader and bin file. For example, the bootloader for EMSK 2.3/ARCEM7D cannot boot the program for EMSK 2.3/ARCEM11D. </li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Jan 12 2018 18:43:25 for embARC by
    <a href="http://www.synopsys.com">
    <img class="footer" src="pic/snps_logo.png" alt="snps_logo"/></a>. All Rights Reserved. </li>
  </ul>
</div>
</body>
</html>
